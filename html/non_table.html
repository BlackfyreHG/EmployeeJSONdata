<html>
    <head>
         <script src="https://d3js.org/d3.v5.js"></script>
         <link href="../css/formatt.css" rel="stylesheet">
    </head>
    
    <body>
        <h1>Employee Information (Non-Table) </h1>
        <!--<script src="data_formatting.js"></script>--> 
        
        <script>
            var employees = d3.json("https://blackfyrehg.github.io/EmployeeJSONdata/employee.json");

            var enterData = function(employees)
            {
                var generals = d3.select("body")
                  .selectAll("div.general")
                  .data(employees)
                  .enter()
                    .append("div")
                        .attr("class","employee")
                        .append("div")
                            .attr("class","general")
                
                d3.selectAll("div.employee")
                    .append("div")
                        .attr("class","detail");
                
                var details = d3.selectAll("div.detail");
                            
                generals.append("span")
                    .attr("class","eName")
                    .text(function(employee)
                    {
                        return employee.firstName+employee.lastName;
                    });
                
                generals.append("img")
                    .attr("src",function(employee)
                    {
                        return employee.photo;
                    });
                
                details.append("span")
                    .attr("class","title")
                    .text(function(employee)
                    {
                        return employee.title; 
                    });
                details.append("span")
                    .attr("class","department")
                    .text(function(employee)
                    {
                        return employee.unit; 
                    });
                details.append("span")
                    .attr("class","email")
                    .text(function(employee)
                    {
                        return employee.email; 
                    });
                details.append("p")
                    .attr("class","bio")
                    .text(function(employee)
                    {
                        return employee.bio; 
                    });
                
                var h = parseInt(d3.selectAll("div.detail").style("height"));
                console.log(h);
                
                d3.selectAll("div.employee")
                    .style("display","inline-block");
                d3.selectAll("div.employee")
                    .style("height","auto");
                d3.selectAll("div.general")
                    .style("height","auto");
            }
            employees.then(enterData);
        </script>
        
    </body>

</html>